<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: manager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: manager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Collection of URLS to communicate with the backend.
 * 
 * @typedef {Object} UrlsList
 * @property {String} new - The URL to post a schema version on creation, editing or publication.
 * @property {String} list - The URL to retrieve the list of existing schemas.
 * @property {String} delete - The URL to delete a draft.
 * @property {String} archive - The URL to archive a published version.
 * @property {String} realm - Name of the realm to which the schema belongs.
 * @property {String} schema_name - Name of the latest modified schema.
 * @property {String} schema_version - Version number of the latest modified schema version.
 */

/**
 * ID of the DOM element to which all the code will be hooked.
 * @type {String}
 */
const container_id = 'metadata_template_list_container';
/**
 * DOM element to which all the code will be hooked. The BS5 class 'accordion' is enforced.
 * @type {HTMLDivElement}
 */
const container = document.getElementById(container_id);
container.className = 'accordion accordion-flush';

/**
 * DOM element containing the information for the list ofr URLs.
 * @type {HTMLElement}
 */
let url_tag = document.getElementsByTagName('url-list')[0];
let url_list = url_tag.attributes;
/**
 * @type {UrlsList}
 */
let urls = {};
for (let url of url_list) {
	urls[url.name.replace('-', '_')] = url.value;
}
url_tag.remove();
const realm = urls.realm;

/**
 * Register of existing schemas
 * @type {Object&lt;String,String[]>}
 */
const schemas = {};

/**
 * REGEX Pattern to control possible schema names. This pattern is then filled with existing names.
 * @type {String}
 */
let schema_pattern = "[a-z0-9-_]+";

/**
 * Empty schema to start with.
 * @type {Schema}
 */
let starting_schema = new Schema('schema-editor-100', container_id, urls);
starting_schema.create_creator();

// Request the list of schemas and start!
let templates_request = new TemplatesRequest(urls, container_id);
templates_request.retrieve();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccordionItem.html">AccordionItem</a></li><li><a href="AnnotationRequest.html">AnnotationRequest</a></li><li><a href="BasicForm.html">BasicForm</a></li><li><a href="CheckboxInput.html">CheckboxInput</a></li><li><a href="ComplexField.html">ComplexField</a></li><li><a href="DummyObject.html">DummyObject</a></li><li><a href="Field.html">Field</a></li><li><a href="InputField.html">InputField</a></li><li><a href="MangoRequest.html">MangoRequest</a></li><li><a href="Modal.html">Modal</a></li><li><a href="MovingChoice.html">MovingChoice</a></li><li><a href="MovingField.html">MovingField</a></li><li><a href="MovingViewer.html">MovingViewer</a></li><li><a href="MultipleInput.html">MultipleInput</a></li><li><a href="NavBar.html">NavBar</a></li><li><a href="ObjectEditor.html">ObjectEditor</a></li><li><a href="ObjectInput.html">ObjectInput</a></li><li><a href="Schema.html">Schema</a></li><li><a href="SchemaDraftForm.html">SchemaDraftForm</a></li><li><a href="SchemaForm.html">SchemaForm</a></li><li><a href="SchemaGroup.html">SchemaGroup</a></li><li><a href="SelectInput.html">SelectInput</a></li><li><a href="TemplateReader.html">TemplateReader</a></li><li><a href="TemplatesRequest.html">TemplatesRequest</a></li><li><a href="TypedInput.html">TypedInput</a></li></ul><h3>Global</h3><ul><li><a href="global.html#container">container</a></li><li><a href="global.html#container_id">container_id</a></li><li><a href="global.html#schema_pattern">schema_pattern</a></li><li><a href="global.html#schemas">schemas</a></li><li><a href="global.html#starting_schema">starting_schema</a></li><li><a href="global.html#url_tag">url_tag</a></li><li><a href="global.html#urls">urls</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Mon Mar 27 2023 11:51:42 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
